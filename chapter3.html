<!DOCTYPE html>
<html style="height: 100%;">
<head>
    <title>Capítulo 3: Bandeiras do Compilador</title>
    <!-- Estilos pelo CSS -->
    <link rel="stylesheet" type="text/css" href="css/codigo.css">
    <link rel="stylesheet" type="text/css" href="css/texto.css">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.3.1/styles/atom-one-light.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.3.1/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script>
        document.addEventListener('DOMContentLoaded', (event) => {
          // Selecione todos os elementos <code> que possuem múltiplas classes
          document.querySelectorAll('code[class*="hljs-"]').forEach((codeElement) => {
            // Separe as classes
            const classes = codeElement.className.split(' ');
      
            // Crie uma expressão regular para combinar classes hljs-
            const classRegex = /hljs-.*/;
      
            // Filtrar as classes que correspondem à expressão regular
            const hljsClasses = classes.filter(className => classRegex.test(className));
      
            // Destacar o texto do elemento <code>
            hljsClasses.forEach(hljsClass => {
              const language = hljsClass.replace('hljs-', ''); // Remover o prefixo hljs-
              hljs.highlightElement(codeElement, { language });
            });
          });
        });
      </script>
    <!-- Fim dos estilos -->
</head>
<body>

<div>
<div id="toc">
<ul>
  <!-- Capítulos e Seções -->
  <li><a href="chapter1.html">Capítulo 1: Introdução</a>
    <ul>
      <li><a href="chapter1.html#secao1.1">Seção 1.1: Características da Linguagem C</a></li>
      <li><a href="chapter1.html#secao1.2">Seção 1.2: O Que É Um Compilador?</a></li>
      <li><a href="chapter1.html#secao1.3">Seção 1.3: GNU Compiler Collection</a></li>
    </ul>
  </li>
  <li><a href="chapter2.html">Capítulo 2: Compilando Programas em C</a>
    <ul>
      <li><a href="chapter2.html#secao2.1">Seção 2.1: Primeiros Passos</a></li>
      <li><a href="chapter2.html#secao2.2">Seção 2.2: Trabalhando Com Múltiplos Arquivos</a></li>
      <li><a href="chapter2.html#secao2.3">Seção 2.3: Utilizando Makefile</a></li>
    </ul>
  </li>
  <li><a href="chapter3.html">Capítulo 3: Bandeiras de Aviso do Compilador</a></li>
  <li><a href="chapter4.html">Capítulo 4: Depuração</a>
    <ul>
      <li><a href="chapter4.html#secao4.1">Seção 4.1: Compilando para Depuração</a></li>
      <li><a href="chapter4.html#secao4.2">Seção 4.2: Depurando Programas</a></li>
    </ul>
  </li>
  <li><a href="chapter5.html">Capítulo 5: Componentes do Compilador</a>
    <ul>
      <li><a href="chapter5.html#secao5.1">Seção 5.1: Pré-processador</a>
        <ul>
          <li><a href="chapter5.html#subsecao5.1.1">Subseção 5.1.1: Inclusão de Arquivos</a></li>
          <li><a href="chapter5.html#subsecao5.1.2">Subseção 5.1.2: Definição de Macros</a></li>
        </ul>
      </li>
      <li><a href="chapter5.html#secao5.2">Seção 5.2: Compilador</a></li>
      <li><a href="chapter5.html#secao5.3">Seção 5.3: Montador</a></li>
      <li><a href="chapter5.html#secao5.4">Seção 5.4: Ligador</a></li>
    </ul>
  </li>
  <li><a href="chapter6.html">Capítulo 6: Otimização</a>
    <ul>
      <li><a href="chapter6.html#secao6.1">Seção 6.1: Otimização em Nível de Código-fonte</a>
        <ul>
          <li><a href="chapter6.html#subsecao6.1.1">Subseção 6.1.1: Eliminação de Subexpressões Comuns</a></li>
          <li><a href="chapter6.html#subsecao6.1.2">Subseção 6.1.2: Inclusão de Função</a></li>
          <li><a href="chapter6.html#subsecao6.1.3">Subseção 6.1.3: Trade-offs de Velocidade e Espaço</a></li>
          <li><a href="chapter6.html#subsecao6.1.4">Subseção 6.1.4: Desenrolamento de Loops</a></li>
          <li><a href="chapter6.html#subsecao6.1.5">Subseção 6.1.5: Agendamento</a></li>
        </ul>
      </li>
      <li><a href="chapter6.html#secao6.2">Seção 6.2: Níveis de Otimização</a></li>
      <li><a href="chapter6.html#secao6.3">Seção 6.3: Otimização e Depuração</a></li>
      <li><a href="chapter6.html#secao6.4">Seção 6.4: Otimização e Avisos do Compilador</a></li>
    </ul>
  </li>
  <!-- Capítulos e Seções (FIM) -->
  <li><a href="glossario.html">Glossário</a></li>
</ul>
</div>
<!-- Conteúdo -->
  <div id="content">
<h1>3. Bandeiras de Aviso do Compilador</h1>

<p>
O GCC compila programas usando o dialeto GNU da linguagem C como base, que incorpora o padrão ANSI C e várias extensões do GNU C. Essas extensões incluem recursos como declarações de variáveis no meio de um bloco de código, expressões com efeitos colaterais e construtores de atributos, entre outros. No entanto, programas válidos escritos em ANSI C podem conflitar com algumas extensões do GNU C.
</p>

<p>
Para lidar com esses conflitos, o GCC oferece várias opções de linha de comando, conhecidas como <strong>bandeiras</strong> ou <strong><i>flags</i></strong>, que permitem aos desenvolvedores controlar o comportamento do compilador ao compilar o código fonte. A <i>flag</i> <code class="hljs- bash sembg">-ansi</code> é usada para desabilitar as extensões do GNU C que conflitam com o padrão ANSI C. A <i>flag</i> <code class="hljs- bash sembg">-pedantic</code> desabilita todas as extensões do GNU C, não apenas aquelas que conflitam com o padrão ANSI.
</p>

<p>
No capítulo anterior, usamos a <i>flag</i> <code class="hljs- bash sembg">-Wall</code> na compilação do nosso programa. Essa <i>flag</i> é uma combinação de várias <i>flags</i> de aviso especializadas que detectam erros comuns de programação. Cada uma das <i>flags</i> contidas em <code class="hljs- bash sembg">-Wall</code> pode ser usada individualmente. Algumas dessas <i>flags</i> são:
</p>

<ul>
  <li><code class="hljs- bash sembg">-Wcomment</code>: Avisa sobre problemas de formatação em comentários, como comentários dentro de comentários.</li>
  <li><code class="hljs- bash sembg">-Wformat</code>: Avisa sobre o uso incorreto de formatação em <i>strings</i> em funções como <code class="hljs- c sembg">printf</code> e <code class="hljs- c sembg">scanf</code>.</li>
  <li><code class="hljs- bash sembg">-Wunused</code>: Avisa sobre variáveis que foram declaradas mas não foram usadas no programa.</li>
  <li><code class="hljs- bash sembg">-Wimplicit</code>: Avisa sobre funções que foram usadas sem serem declaradas, o que pode acontecer se esquecer de incluir o arquivo de cabeçalho.</li>
  <li><code class="hljs- bash sembg">-Wreturn-type</code>: Avisa sobre funções que não retornam nenhum valor mas que não foram declaradas como <code class="hljs- c sembg">void</code>.</li>
</ul>

<p>
O GCC também inclui outras <i>flags</i> de aviso úteis, como:
</p>

<ul>
  <li><code class="hljs- bash sembg">-W</code>: Uma <i>flag</i> geral, semelhante a <code class="hljs- bash sembg">-Wall</code>, que avisa sobre diversos erros comuns.</li>
  <li><code class="hljs- bash sembg">-Wconversion</code>: Avisa sobre conversões implícitas de tipo, como entre <code class="hljs- c sembg">float</code> e <code class="hljs- c sembg">int</code>, que podem causar resultados inesperados.</li>
  <li><code class="hljs- bash sembg">-Wshadow</code>: Avisa sobre a declaração de variáveis em um escopo em que elas já foram declaradas.</li>
  <li><code class="hljs- bash sembg">-Wtraditional</code>: Avisa sobre partes do código que seriam interpretadas de forma diferente por um compilador ANSI/ISO e um pré-ANSI.</li>
</ul>

<p>
Se você quiser que o programa pare de compilar se houver qualquer aviso das <i>flags</i> que você aplicou, use a <i>flag</i> "<code class="hljs- bash sembg">-Werror</code>". Usar <i>flags</i> ao compilar um programa é uma boa prática, mas a grande quantidade pode tornar a escolha de quais usar difícil. Com isso em mente, recomendamos que, em geral, as seguintes <i>flags</i> sejam usadas:
</p>

<figure><pre><code class="bash">$ gcc -ansi -pedantic -Wall -W programa.c -o programa</code></pre></figure>

</div>
</div>
</body>
</html>
