<!DOCTYPE html>
<html style="height: 100%;">
<head>
    <title>Capítulo 3: Bandeiras de Aviso do Compilador</title>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            margin: 0; 
            padding: 0; 
            min-height: 100%; 
            overflow: auto; 
        }
        pre { 
            background-color: #f4f4f4; 
            padding: 10px; 
            border-left: 3px solid #ccc; 
            margin: 20px; 
            font-family: monospace; 
        }
        h1, h2, h3 { 
            color: #333; 
        }
        ul { 
            list-style-type: disc; 
            margin-left: 20px; 
        }
    </style>
</head>
<body>

    <h1>Capítulo 3: Bandeiras de Aviso do Compilador</h1>

    <p>O GCC compila programas usando o dialeto GNU da linguagem C como base, que incorpora o padrão ANSI C e várias extensões do GNU C. Essas extensões incluem recursos como declarações de variáveis no meio de um bloco de código, expressões com efeitos colaterais e construtores de atributos, entre outros. No entanto, programas válidos escritos em ANSI C podem conflitar com algumas extensões do GNU C.</p>

    <p>Para lidar com esses conflitos, o GCC oferece várias opções de linha de comando, conhecidas como <b>bandeiras</b> ou <b>flags</b>, que permitem aos desenvolvedores controlar o comportamento do compilador ao compilar o código fonte. A flag "<code>-ansi</code>" é usada para desabilitar as extensões do GNU C que conflitam com o padrão ANSI C. A flag "<code>-pedantic</code>" desabilita todas as extensões do GNU C, não apenas aquelas que conflitam com o padrão ANSI.</p>

    <p>No capítulo anterior, usamos a flag "<code>-Wall</code>" na compilação do nosso programa. Essa flag é uma combinação de várias flags de aviso especializadas que detectam erros comuns de programação. Cada uma das flags contidas em "<code>-Wall</code>" pode ser usada individualmente. Algumas dessas flags são:</p>

    <ul>
        <li><strong>Wcomment</strong>: avisa sobre problemas de formatação em comentários, como comentários dentro de comentários.</li>
        <li><strong>Wformat</strong>: avisa sobre o uso incorreto de formatação em strings em funções como <code>printf</code> e <code>scanf</code>.</li>
        <li><strong>Wunused</strong>: avisa sobre variáveis que foram declaradas mas não foram usadas no programa.</li>
        <li><strong>Wimplicit</strong>: avisa sobre funções que foram usadas sem serem declaradas, o que pode acontecer se esquecer de incluir o arquivo de cabeçalho.</li>
        <li><strong>Wreturn-type</strong>: avisa sobre funções que não retornam nenhum valor mas que não foram declaradas como <code>void</code>.</li>
    </ul>

    <p>O GCC também inclui outras flags de aviso úteis, como:</p>

    <ul>
        <li><strong>W</strong>: uma flag geral, semelhante a -Wall, que avisa sobre diversos erros comuns.</li>
        <li><strong>Wconversion</strong>: avisa sobre conversões implícitas de tipo, como entre <i>float</i> e <i>integer</i>, que podem causar resultados inesperados.</li>
        <li><strong>Wshadow</strong>: avisa sobre a declaração de variáveis em um escopo em que elas já foram declaradas.</li>
        <li><strong>Wtraditional</strong>: avisa sobre partes do código que seriam interpretadas de forma diferente por um compilador ANSI/ISO e um pré-ANSI.</li>
    </ul>

    <p>Se você quiser que o programa pare de compilar se houver qualquer aviso das flags que você aplicou, use a flag "<code>-Werror</code>".</p>

    <p>Usar flags ao compilar um programa é uma boa prática, mas a grande quantidade pode tornar a escolha de quais usar difícil. Com isso em mente, recomendamos que, em geral, as seguintes flags sejam usadas:</p>
    
    <pre>
$ gcc -ansi -pedantic -Wall -W</pre>

</body>
</html>
