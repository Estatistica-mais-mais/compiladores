<!DOCTYPE html>
<html style="height: 100%;">

<head>
  <title>Capítulo 3: Bandeiras do Compilador</title>
  <!-- Estilos pelo CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
  <link rel="stylesheet" type="text/css" href="css/codigo.css">
  <link rel="stylesheet" type="text/css" href="css/texto.css">

  <link rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.3.1/styles/atom-one-light.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.3.1/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
  <script>
    document.addEventListener('DOMContentLoaded', (event) => {
      // Selecione todos os elementos <code> que possuem múltiplas classes
      document.querySelectorAll('code[class*="hljs-"]').forEach((codeElement) => {
        // Separe as classes
        const classes = codeElement.className.split(' ');

        // Crie uma expressão regular para combinar classes hljs-
        const classRegex = /hljs-.*/;

        // Filtrar as classes que correspondem à expressão regular
        const hljsClasses = classes.filter(className => classRegex.test(className));

        // Destacar o texto do elemento <code>
        hljsClasses.forEach(hljsClass => {
          const language = hljsClass.replace('hljs-', ''); // Remover o prefixo hljs-
          hljs.highlightElement(codeElement, { language });
        });
      });
    });
  </script>
  <!-- Fim dos estilos -->
</head>

<body>
  <!-- Tabela de Conteúdo -->
  <div id="common-toc">
    <object data="toc.html" type="text/html" width="100%" height="100%"></object>
  </div>

  <!-- Conteúdo -->
  <div class="container">
    <div id="chapter3">
      <div id="content">
        <h1>3. Bandeiras de Aviso do Compilador</h1>

        <p>
          O GCC compila programas usando o dialeto GNU da linguagem C como base, que incorpora o padrão ANSI C e várias
          extensões do GNU C. Essas extensões incluem recursos como declarações de variáveis no meio de um bloco de
          código, expressões com efeitos colaterais e construtores de atributos, entre outros. No entanto, programas
          válidos escritos em ANSI C podem conflitar com algumas extensões do GNU C.
        </p>

        <p>
          Para lidar com esses conflitos, o GCC oferece várias opções de linha de comando, conhecidas como
          <strong>bandeiras</strong> ou <strong><i>flags</i></strong>, que permitem aos desenvolvedores controlar o
          comportamento do compilador ao compilar o código fonte. A <i>flag</i> <code
            class="hljs- bash sembg">-ansi</code> é usada para desabilitar as extensões do GNU C que conflitam com o
          padrão ANSI C. A <i>flag</i> <code class="hljs- bash sembg">-pedantic</code> desabilita todas as extensões do
          GNU C, não apenas aquelas que conflitam com o padrão ANSI.
        </p>

        <p>
          No capítulo anterior, usamos a <i>flag</i> <code class="hljs- bash sembg">-Wall</code> na compilação do nosso
          programa. Essa <i>flag</i> é uma combinação de várias <i>flags</i> de aviso especializadas que detectam erros
          comuns de programação. Cada uma das <i>flags</i> contidas em <code class="hljs- bash sembg">-Wall</code> pode
          ser usada individualmente. Algumas dessas <i>flags</i> são:
        </p>

        <ul>
          <li><code class="hljs- bash sembg">-Wcomment</code>: Avisa sobre problemas de formatação em comentários, como
            comentários dentro de comentários.</li>
          <li><code class="hljs- bash sembg">-Wformat</code>: Avisa sobre o uso incorreto de formatação em
            <i>strings</i>
            em funções como <code class="hljs- c sembg">printf</code> e <code class="hljs- c sembg">scanf</code>.</li>
          <li><code class="hljs- bash sembg">-Wunused</code>: Avisa sobre variáveis que foram declaradas mas não foram
            usadas no programa.</li>
          <li><code class="hljs- bash sembg">-Wimplicit</code>: Avisa sobre funções que foram usadas sem serem
            declaradas,
            o que pode acontecer se esquecer de incluir o arquivo de cabeçalho.</li>
          <li><code class="hljs- bash sembg">-Wreturn-type</code>: Avisa sobre funções que não retornam nenhum valor mas
            que não foram declaradas como <code class="hljs- c sembg">void</code>.</li>
        </ul>

        <p>
          O GCC também inclui outras <i>flags</i> de aviso úteis, como:
        </p>

        <ul>
          <li><code class="hljs- bash sembg">-W</code>: Uma <i>flag</i> geral, semelhante a <code
              class="hljs- bash sembg">-Wall</code>, que avisa sobre diversos erros comuns.</li>
          <li><code class="hljs- bash sembg">-Wconversion</code>: Avisa sobre conversões implícitas de tipo, como entre
            <code class="hljs- c sembg">float</code> e <code class="hljs- c sembg">int</code>, que podem causar
            resultados
            inesperados.
          </li>
          <li><code class="hljs- bash sembg">-Wshadow</code>: Avisa sobre a declaração de variáveis em um escopo em que
            elas já foram declaradas.</li>
          <li><code class="hljs- bash sembg">-Wtraditional</code>: Avisa sobre partes do código que seriam interpretadas
            de forma diferente por um compilador ANSI/ISO e um pré-ANSI.</li>
        </ul>

        <p>
          Se você quiser que o programa pare de compilar se houver qualquer aviso das <i>flags</i> que você aplicou, use
          a
          <i>flag</i> "<code class="hljs- bash sembg">-Werror</code>". Usar <i>flags</i> ao compilar um programa é uma
          boa
          prática, mas a grande quantidade pode tornar a escolha de quais usar difícil. Com isso em mente, recomendamos
          que, em geral, as seguintes <i>flags</i> sejam usadas:
        </p>

        <!-- Código -->
        <p class="exemplo-codigo">
          <span class="nome-linguagem">
            Bash
          </span>
        </p>
        <figure>
          <pre><code class="bash">$ gcc -ansi -pedantic -Wall -W programa.c -o programa</code></pre>
        </figure>

      </div>
    </div>
  </div>
</body>

</html>